<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö–∞–ø–∏—Ç–∞–Ω –º–∞—Ä–º–µ–ª–∞–¥</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", sans-serif;
            background-color: #fff7f0;
            color: #3e3e3e;
        }

        header {
            background-color: #ffd9b3;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            margin: 0;
            font-size: 24px;
            color: #8b4000;
        }

        nav a {
            margin-left: 20px;
            text-decoration: none;
            color: #8b4000;
            font-weight: bold;
        }

        .hero {
            position: relative;
            background: url("/static/marmalade-bg.jpg") no-repeat center/cover;
            color: #fff4f4;
            padding: 100px 30px;
            text-align: center;
            z-index: 1;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.4); /* —Ç—ë–º–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */
            z-index: -1;
        }

        .hero h2 {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .hero p {
            font-size: 18px;
            max-width: 600px;
            margin: auto;
        }

        .hero h2,
        .hero p {
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
        }

        .features {
            display: flex;
            justify-content: space-around;
            margin: 50px 0;
            text-align: center;
        }

        .feature {
            background-color: #ffecd9;
            padding: 20px;
            border-radius: 15px;
            width: 250px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .feature img {
            width: 80px;
            height: 80px;
        }

        .carousel-section {
            margin: 60px 0;
            padding: 0 30px;
        }

        .carousel-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: #8b4000;
        }

        .carousel-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-track-container {
            overflow: hidden;
            width: 100%;
            max-width: 1200px;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease;
            gap: 30px;
            padding: 20px 0;
        }

        .carousel-item {
            flex: 0 0 calc(33.33% - 40px); /* —É—á–ª–∏ margin */
            margin: 0 20px; /* –ø–æ 20px —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ */
            background-color: #ffe6d0; /* —á—É—Ç—å –±–æ–ª–µ–µ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π, —Ç–µ–ø–ª—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ */
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(139, 64, 0, 0.15); /* –±–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω–∞—è —Ç–µ–Ω—å –∫–æ—Ä–∏—á–Ω–µ–≤–æ–≥–æ –æ—Ç—Ç–µ–Ω–∫–∞ */
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .carousel-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(139, 64, 0, 0.25);
        }

        .carousel-item img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 10px;
            border: 3px solid #fff4e6;


        }

        .carousel-inner {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            scroll-behavior: smooth;
            gap: 0; /* –æ—Ç–∫–ª—é—á–∞–µ–º gap, –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω –µ—Å–ª–∏ —É –∫–∞—Ä—Ç–æ—á–µ–∫ –µ—Å—Ç—å margin */
            padding: 0 20px; /* —á—Ç–æ–±—ã –ø–µ—Ä–≤–∞—è –∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –ø—Ä–∏–ª–∏–ø–∞–ª–∏ –∫ –∫—Ä–∞—è–º */
        }

        .carousel-item p {
            font-size: 18px;
            color: #8b4000;
            margin: 0;
            font-weight: bold;
        }

        .carousel-controls button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: #ffcc99; /* —Å–≤–µ—Ç–ª–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π –∫—Ä—É–≥ */
            border: none;
            border-radius: 50%; /* –∫—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞ */
            width: 50px;
            height: 50px;
            font-size: 28px;
            color: #8b4000; /* –∫–æ—Ä–∏—á–Ω–µ–≤—ã–µ —Å—Ç—Ä–µ–ª–æ—á–∫–∏ */
            cursor: pointer;
            display: flex;
            align-items: center;   /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∏ */
            justify-content: center; /* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            z-index: 10;
            padding: 0;
            line-height: 1;
        }

        .carousel-controls .prev {
            left: -25px;
        }

        .carousel-controls .next {
            right: -25px;
        }



        .carousel-btn:hover {
            background-color: #ffc488;
        }
        
        html {
        scroll-behavior: smooth;
        }


        footer {
            text-align: center;
            padding: 20px;
            background-color: #ffe0cc;
            margin-top: 50px;
        }
    </style>
</head>
<body>

<header>
    <h1>–ö–∞–ø–∏—Ç–∞–Ω –º–∞—Ä–º–µ–ª–∞–¥</h1>
    <nav>
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/about">–û –Ω–∞—Å</a>
        <a href="/#catalog">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="{% if user %}/profile{% else %}/login{% endif %}">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </nav>

</header>

<div class="hero">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –º–∞—Ä–º–µ–ª–∞–¥–∞!</h2>
    <p>–Ø—Ä–∫–∏–π, –≤–∫—É—Å–Ω—ã–π –∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–π ‚Äî –æ—Ç–∫—Ä–æ–π –¥–ª—è —Å–µ–±—è –Ω–∞—à –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç —É–∂–µ —Å–µ–≥–æ–¥–Ω—è.</p>
</div>

<div class="features">
    <div class="feature">
        <img src="/static/icons/fruit.png" alt="–§—Ä—É–∫—Ç–æ–≤—ã–π –≤–∫—É—Å">
        <h3>100% —Ñ—Ä—É–∫—Ç–æ–≤—ã–π</h3>
        <p>–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –≤–∫—É—Å—ã –≤ –∫–∞–∂–¥–æ–π –ø–∞—á–∫–µ.</p>
    </div>
    <div class="feature">
        <img src="/static/icons/box.png" alt="–£–ø–∞–∫–æ–≤–∫–∞">
        <h3>–£–¥–æ–±–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
        <p>–î–æ—Å—Ç–∞–≤–∏–º –º–∞—Ä–º–µ–ª–∞–¥ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ –±—ã—Å—Ç—Ä–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ.</p>
    </div>
    <div class="feature">
        <img src="/static/icons/star.png" alt="–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å">
        <h3>–õ—é–±–∏–º –≤—Å–µ–º–∏</h3>
        <p>–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –¥–µ—Ç—å–º–∏, –≤–∑—Ä–æ—Å–ª—ã–º–∏ –∏ –≥—É—Ä–º–∞–Ω–∞–º–∏ ‚Äî –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å!</p>
    </div>
</div>

<section class="carousel-section">
    <h2 class="catalog-title" id="catalog">–ö–∞—Ç–∞–ª–æ–≥</h2>
    <div class="carousel-wrapper">
        <div class="carousel-track-container">
            <div class="carousel-track">
                <div class="carousel-item">
                    <img src="/static/products/sour.jpg" alt="–ö–∏—Å–ª—ã–π –º–∞—Ä–º–µ–ª–∞–¥">
                    <p>–ö–∏—Å–ª—ã–π</p>
                </div>
                <div class="carousel-item">
                    <img src="/static/products/sweet.jpg" alt="–°–ª–∞–¥–∫–∏–π –º–∞—Ä–º–µ–ª–∞–¥">
                    <p>–°–ª–∞–¥–∫–∏–π</p>
                </div>
                <div class="carousel-item">
                    <img src="/static/products/spicy.jpg" alt="–û—Å—Ç—Ä—ã–π –º–∞—Ä–º–µ–ª–∞–¥">
                    <p>–û—Å—Ç—Ä—ã–π</p>
                </div>
                <div class="carousel-item">
                    <img src="/static/products/berry.jpg" alt="–Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å">
                    <p>–Ø–≥–æ–¥–Ω—ã–π</p>
                </div>
                <div class="carousel-item">
                    <img src="/static/products/tropical.jpg" alt="–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –º–∏–∫—Å">
                    <p>–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π</p>
                </div>
            </div>
        </div>
        <div class="carousel-controls">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
        </div>

    </div>
</section>

    <h1>–ö–∞—Ç–∞–ª–æ–≥</h1>
    <div class="carousel-track">
        {% for item in marmelads %}
        <a href="/products/{{ item.id }}" class="carousel-card">
            <img src="{{ item.image_url }}" alt="{{ item.name }}">
            <h2>{{ item.name }}</h2>
        </a>
        {% endfor %}
    </div>


<footer>
    &copy; 2025 –ö–∞–ø–∏—Ç–∞–Ω –º–∞—Ä–º–µ–ª–∞–¥ | –°–ª–∞–¥–æ—Å—Ç–∏ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü üç≠
</footer>

<script>
    const track = document.querySelector('.carousel-track');
    const prevBtn = document.querySelector('.carousel-controls .prev');
    const nextBtn = document.querySelector('.carousel-controls .next');

    const originalItems = Array.from(track.children);
    const gap = 30;
    const itemWidth = originalItems[0].offsetWidth + gap;

    const cloneStart = originalItems.slice(-2).map(el => el.cloneNode(true));
    const cloneEnd = originalItems.slice(0, 2).map(el => el.cloneNode(true));

    cloneStart.forEach(clone => track.prepend(clone));
    cloneEnd.forEach(clone => track.append(clone));

    const totalItems = originalItems.length;
    let position = itemWidth * 2;
    track.style.transform = `translateX(-${position}px)`;

    let isTransitioning = false;

    function moveCarousel(dir) {
        if (isTransitioning) return;
        isTransitioning = true;

        position += dir * itemWidth;
        track.style.transition = 'transform 0.5s ease';
        track.style.transform = `translateX(-${position}px)`;

        track.addEventListener('transitionend', handleLoop, { once: true });
    }

    function handleLoop() {
        track.style.transition = 'none';
        if (position <= itemWidth) {
            position = itemWidth * (totalItems + 1);
        } else if (position >= itemWidth * (totalItems + 2)) {
            position = itemWidth * 2;
        }
        track.style.transform = `translateX(-${position}px)`;
        requestAnimationFrame(() => {
            isTransitioning = false;
        });
    }

    prevBtn.addEventListener('click', () => moveCarousel(-1));
    nextBtn.addEventListener('click', () => moveCarousel(1));
</script>

</body>
</html>
